{"version":3,"sources":["bus/index.browser.js"],"names":["Bus","sdk","request","baseUrl","config","audiences","bus","host","_baseUrl","_request","_sdk","channels","Channels","Error"],"mappings":";;;;;;;;AAAA;;;;;;;;AAEA;;;;;;;IAOMA,G;AACJ;;;;;;AAMA,eAAYC,GAAZ,EAAiBC,OAAjB,EAA0B;AAAA;;AACxB,QAAMC,eAAaF,IAAIG,MAAJ,CAAWC,SAAX,CAAqBC,GAArB,CAAyBC,IAA5C;;AAEA,SAAKC,QAAL,GAAgBL,OAAhB;AACA,SAAKM,QAAL,GAAgBP,OAAhB;AACA,SAAKQ,IAAL,GAAYT,GAAZ;;AAEA,SAAKU,QAAL,GAAgB,IAAIC,kBAAJ,CAAaX,GAAb,EAAkBC,OAAlB,EAA2BC,OAA3B,CAAhB;AACD;;AAED;;;;;;;;8BAIU;AACR,YAAM,IAAIU,KAAJ,CACJ,oEADI,CAAN;AAGD;;AAED;;;;;;;6CAIyB;AACvB,YAAM,IAAIA,KAAJ,CACJ,oEADI,CAAN;AAGD;;;;;;kBAGYb,G","file":"index.browser.js","sourcesContent":["import Channels from './channels';\n\n/**\n * Module that provides access to the message bus. This is for browser\n * environments. Documentation for Node environments is found under `Bus`.\n *\n * @alias BrowserBus\n * @typicalname contxtSdk.bus\n */\nclass Bus {\n  /**\n   * @alias BrowserBus\n   *\n   * @param {Object} sdk An instance of the SDK so the module can communicate with other modules\n   * @param {Object} request An instance of the request module tied to this module's audience.\n   */\n  constructor(sdk, request) {\n    const baseUrl = `${sdk.config.audiences.bus.host}`;\n\n    this._baseUrl = baseUrl;\n    this._request = request;\n    this._sdk = sdk;\n\n    this.channels = new Channels(sdk, request, baseUrl);\n  }\n\n  /**\n   * Connects to the message bus via WebSocket. Does not currently work in\n   * browser environments.\n   */\n  connect() {\n    throw new Error(\n      'The Message Bus is not currently supported in browser environments'\n    );\n  }\n\n  /**\n   * Gets an open WebSocketConnection for an organization ID. Does not currently\n   * work in browser environments.\n   */\n  getWebSocketConnection() {\n    throw new Error(\n      'The Message Bus is not currently supported in browser environments'\n    );\n  }\n}\n\nexport default Bus;\n"]}