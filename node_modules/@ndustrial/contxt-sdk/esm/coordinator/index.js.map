{"version":3,"sources":["coordinator/index.js"],"names":["Applications","Consent","EdgeNodes","Organizations","Permissions","Roles","Users","Coordinator","sdk","request","baseUrl","config","audiences","coordinator","host","_baseUrl","_request","_sdk","_accessBaseUrl","_deployBaseUrl","_organizationId","applications","consent","edgeNodes","organizations","permissions","roles","users","organizationId"],"mappings":"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","file":"index.js","sourcesContent":["import Applications from './applications';\nimport Consent from './consent';\nimport EdgeNodes from './edgeNodes';\nimport Organizations from './organizations';\nimport Permissions from './permissions';\nimport Roles from './roles';\nimport Users from './users';\n\n/**\n * Module that provides access to information about Contxt\n *\n * @typicalname contxtSdk.coordinator\n */\nclass Coordinator {\n  /**\n   * @param {Object} sdk An instance of the SDK so the module can communicate with other modules\n   * @param {Object} request An instance of the request module tied to this module's audience.\n   */\n  constructor(sdk, request) {\n    const baseUrl = `${sdk.config.audiences.coordinator.host}/v1`;\n\n    this._baseUrl = baseUrl;\n    this._request = request;\n    this._sdk = sdk;\n\n    this._accessBaseUrl = null;\n    this._deployBaseUrl = null;\n    this._organizationId = null;\n\n    this.applications = new Applications(sdk, request, baseUrl);\n    this.consent = new Consent(sdk, request, baseUrl);\n    this.edgeNodes = new EdgeNodes(sdk, request, baseUrl);\n    this.organizations = new Organizations(sdk, request, baseUrl);\n    this.permissions = new Permissions(sdk, request, baseUrl);\n    this.roles = new Roles(sdk, request, baseUrl);\n    this.users = new Users(sdk, request, baseUrl);\n  }\n\n  /**\n   * Sets a selected oranization ID to be used in tenant based requests\n   *\n   * @param {string} organizationId the ID of the organization\n   *\n   * @example\n   * contxtSdk.coordinator\n   *   .setOrganizationId('36b8421a-cc4a-4204-b839-1397374fb16b');\n   */\n  setOrganizationId(organizationId) {\n    this._organizationId = organizationId;\n\n    this._accessBaseUrl = this._organizationId\n      ? `${this._sdk.config.audiences.coordinator.host}/access/v1/${\n          this._organizationId\n        }`\n      : null;\n\n    this._deployBaseUrl = this._organizationId\n      ? `${this._sdk.config.audiences.coordinator.host}/deploy/v1/${\n          this._organizationId\n        }`\n      : null;\n\n    this.applications = new Applications(\n      this._sdk,\n      this._request,\n      this._deployBaseUrl || this._baseUrl,\n      this._organizationId\n    );\n    this.consent = new Consent(\n      this._sdk,\n      this._request,\n      this._deployBaseUrl || this._baseUrl,\n      this._organizationId\n    );\n    this.edgeNodes = new EdgeNodes(\n      this._sdk,\n      this._request,\n      this._deployBaseUrl || this._baseUrl,\n      this._organizationId\n    );\n    this.organizations = new Organizations(\n      this._sdk,\n      this._request,\n      this._accessBaseUrl || this._baseUrl,\n      this._organizationId\n    );\n    this.permissions = new Permissions(\n      this._sdk,\n      this._request,\n      this._accessBaseUrl || this._baseUrl,\n      this._organizationId\n    );\n    this.roles = new Roles(\n      this._sdk,\n      this._request,\n      this._accessBaseUrl || this._baseUrl,\n      this._organizationId\n    );\n    this.users = new Users(\n      this._sdk,\n      this._request,\n      this._accessBaseUrl || this._baseUrl,\n      this._organizationId\n    );\n  }\n}\n\nexport default Coordinator;\n"]}